interface StarScoreProps {
  score: number;
}

const MASK_COLOR: Record<number, string> = {
  0: '#FFFFF',
  1: '#F7A477',
  2: '#E1A193',
  3: '#CB9FAE',
  4: '#B59CCA',
  5: '#7170BF',
};
const calcFillHeight = (score: number) => (score <= 2 ? score * 10 : score <= 4 ? score * 10 - 1 : 48);

export const StarScore = ({ score }: StarScoreProps) => {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
      <path
        d="M22.895 2.62371L22.8951 2.62358C23.1212 2.16508 23.556 1.93683 24.0003 1.93683C24.4445 1.93683 24.8793 2.16508 25.1054 2.62358L25.1055 2.62366L31.1782 14.9317L31.1784 14.9321C31.5038 15.59 32.1321 16.0479 32.8595 16.1532C32.8596 16.1532 32.8597 16.1533 32.8598 16.1533L46.4417 18.1268C47.4521 18.2736 47.856 19.5159 47.1245 20.2292L37.2967 29.8092C37.2967 29.8092 37.2967 29.8092 37.2967 29.8092C36.7698 30.3227 36.5309 31.0609 36.6544 31.785L36.6545 31.7853L38.9745 45.3125C39.1101 46.1037 38.4839 46.7576 37.7601 46.7576C37.5752 46.7576 37.3804 46.7135 37.1858 46.6116L25.0385 40.2255L25.0384 40.2254C24.713 40.0545 24.3563 39.9688 23.9995 39.9688C23.643 39.9688 23.2852 40.0543 22.96 40.2257L10.8125 46.6119L10.8115 46.6124C10.6197 46.7138 10.4249 46.7576 10.2388 46.7576C9.51499 46.7576 8.8888 46.1037 9.02444 45.3125L11.3444 31.7853L11.3445 31.785C11.4681 31.0605 11.2279 30.3225 10.7025 29.8095L10.7022 29.8092L0.874321 20.2292L0.874243 20.2291C0.142479 19.5161 0.546339 18.2737 1.55718 18.1268L15.1395 16.1532L15.1397 16.1532C15.8669 16.0471 16.4959 15.5907 16.8208 14.9315L22.895 2.62371Z"
        stroke="black"
        strokeOpacity="0.1"
      />
      <mask
        id={`star-${score}`}
        type="luminance"
        maskUnits="userSpaceOnUse"
        x="0"
        y={48 - calcFillHeight(score)}
        width="48"
        height={calcFillHeight(score)}
      >
        <path d="M48 0H0.000518799V48H48V0Z" fill="white" />
      </mask>
      <g mask={`url(#star-${score})`}>
        <path
          d="M25.5539 2.40252L31.6282 14.7105C31.8802 15.2217 32.3682 15.5761 32.933 15.6585L46.5152 17.6321C47.936 17.8385 48.504 19.5849 47.4752 20.5873L37.6473 30.1673C37.2393 30.5657 37.053 31.1385 37.1489 31.7009L39.4689 45.2281C39.7113 46.6433 38.2257 47.7225 36.9554 47.0545L24.8075 40.6681C24.3027 40.4025 23.6995 40.4025 23.1947 40.6681L11.0468 47.0545C9.77565 47.7225 8.29006 46.6433 8.53326 45.2281L10.8532 31.7009C10.9492 31.1385 10.7636 30.5657 10.3548 30.1673L0.525346 20.5873C-0.502643 19.5849 0.0645512 17.8385 1.48534 17.6321L15.0676 15.6585C15.6316 15.5761 16.1196 15.2217 16.3724 14.7105L22.4467 2.40252C23.0819 1.11452 24.9187 1.11452 25.5539 2.40252Z"
          fill={MASK_COLOR[score]}
        />
      </g>
    </svg>
  );
};
